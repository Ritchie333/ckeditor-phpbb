Array.prototype.forEach||(Array.prototype.forEach=function(e,t){t=t||window;for(var o=0;o<this.length;o++)e.call(t,this[o],o,this)}),Object.entries||(Object.entries=function(e){for(var t=Object.keys(e),o=t.length,c=new Array(o);o--;)c[o]=[t[o],e[t[o]]];return c}),CKEDITOR.config.customBBcode_codes={},CKEDITOR.plugins.add("custombbcode",{requires:"bbcode",init:function(o){Object.entries(o.config.customBBcode_codes).forEach(function(e){var n=e[0],t=e[1],e="custombbcode-"+n;o.addCommand(e,{exec:function(e){var t,o,c;"wysiwyg"===e.mode?(c=e.getSelectedHtml().getHtml(),e.insertHtml("["+n+"]"+c+"[/"+n+"]")):(o=(t=jQuery("textarea.cke_source"))[0].selectionStart,e=t[0].selectionEnd,c=t.val(),o&&e&&c&&t.val(c.substring(0,o)+"["+n+"]"+c.substring(o,e)+"[/"+n+"]"+c.substring(e)))},modes:{wysiwyg:1,source:1}}),o.ui.addButton(n,{label:t,command:e,icon:"custombbcode/"+n+".png",iconHiDpi:"custombbcode/"+n+".hidpi.png"})})}});